{% extends 'base.html' %}

{% block content %}
    <a href="{% url 'book_suggestion' %}">Suggest a book</a>

<div class='book-list'>

    <div class="suggestion-box">
        <div class="dropdown">
            <button type="button" class="dropdown-trigger">Sort by</button>
            <div class="dropdown-menu">
                <a href="{{request.path}}?sort=date">Date Added (oldest first)</a>
                <a href="{{request.path}}?sort=date-reverse">Date Added reverse</a>
                <a href="{{request.path}}?sort=title">Title</a>
                <a href="{{request.path}}?sort=author">Author</a>
            </div>
        </div>
        <span class="suggestion">Click on a language tag to view all books about that language.</span>
    </div>

    <dl>
        {% for book in books %}
        <dt><a href='{{book.url}}'>{{book.title}}</a></dt>
        <dt>{{book.author}}</dt>
        <dd>{{book.description}}</dd>
        <ul class='categories'>
            {% if book.category %}
            {% for cat in book.category.all %}
            <li class='language-category'>
                <a href="{% url 'cat_list' cat.slug %}">{{ cat.name }}</a>
            </li>
            {% endfor %}
            {% endif %}
        </ul>
        <dd class='created-date'>Book added: {{book.created_at}}</dd>

        {% endfor %}
    </dl>

    {% endblock content %}